!function(){"use strict";!function(){class t{drawBall(e){e.save(),e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI);var i=new Image;i.src="./SoccerBall.png",e.drawImage(i,t.x-t.radius,t.y-t.radius,t.ballHeight,t.ballWidth)}}t.width=1e3,t.height=500,t.x=t.width/2,t.y=t.height-80,t.radius=10,t.ballHeight=30,t.ballWidth=30;var e=t;class i{drawGoal(t){t.beginPath(),t.rect(i.goalPosX,i.goalPosY,i.goalWidth,i.goalHeight)}drawGoalKeeper(t){t.beginPath(),t.rect(i.posKeeperX,i.posKeeperY,i.Kwidth,i.Kheight);var e=new Image;e.src="./goalkeeper.png",t.drawImage(e,i.posKeeperX-37,i.posKeeperY,i.Kwidth+70,i.Kheight+25)}}i.width=1e3,i.height=500,i.posKeeperX=(i.width-50)/2,i.posKeeperY=80,i.goalPosX=(i.width-350)/2,i.goalPosY=0,i.Kheight=175,i.Kwidth=50,i.goalHeight=250,i.goalWidth=350;var s=i,o=class{constructor(t,e,i,s,o,h,a){this.ctx=s,this.ball=t,this.goalkeeper=e,this.comp=i,this.dx=o,this.dy=h,this.goalkeeper_save=0,this.player_scored=0,this.attempts_left=5,this.rightKey=!1,this.leftKey=!1,this.gameOver=!1,this.lAttempt="",this.shootInProcess=!1,this.nextShoot=0,this.delayShoot=3e3,this.speed=a,document.addEventListener("keydown",this.keyDownHandler.bind(this)),document.addEventListener("keyup",this.keyUpHandler.bind(this))}keyDownHandler(t){39==t.keyCode?(console.log(t.keyCode),this.rightKey=!0):37==t.keyCode&&(this.leftKey=!0)}keyUpHandler(t){39==t.keyCode?this.rightKey=!1:37==t.keyCode&&(this.leftKey=!1)}showScore(){this.goalkeeper_save>this.player_scored?(this.lAttempt="YOU HAVE WON!!!",this.gameOver=!0):(this.lAttempt="YOU HAVE LOST!!!",this.gameOver=!0),setTimeout((function(){document.location.reload(),this.gameOver=!1}),3e3)}resetPitch(){e.width=1e3,e.height=500,e.x=e.width/2,e.y=e.height-95,s.width=1e3,s.height=500,s.posKeeperX=(s.width-50)/2,s.posKeeperY=80,s.goalPosX=(s.width-350)/2,s.goalPosY=0;const t=Math.ceil(Math.random()*this.speed)*(Math.round(Math.random())?1:-1);console.log(t),this.dx=t,this.dy=-this.speed}drawPitch(){this.ctx.clearRect(0,0,1e3,500),this.comp.score(this.ctx,this.goalkeeper_save),this.comp.attempts(this.ctx,this.attempts_left),this.ball.drawBall(this.ctx),this.goalkeeper.drawGoalKeeper(this.ctx),this.goalkeeper.drawGoal(this.ctx),this.comp.finalAttempt(this.ctx,this.lAttempt)}animate(t){if(this.drawPitch(),this.rightKey&&s.posKeeperX<s.width-s.goalWidth?s.posKeeperX+=6:this.leftKey&&s.posKeeperX>s.goalPosX-40&&(s.posKeeperX-=6),!this.shootInProcess){if(!(t>this.nextShoot))return void requestAnimationFrame(this.animate.bind(this));this.shootInProcess=!0,this.lAttempt=""}e.x+=this.dx,e.y+=this.dy,e.x>s.posKeeperX&&e.x<s.posKeeperX+s.Kwidth&&e.y>s.posKeeperY&&e.y<s.posKeeperY+s.Kheight?(this.shootInProcess=!1,this.nextShoot=t+this.delayShoot,this.lAttempt="YOU SAVED THE BALL",this.attempts_left-=1,this.goalkeeper_save+=1,this.attempts_left?this.resetPitch():this.showScore()):e.x>s.goalPosX&&e.x<s.goalPosX+s.goalWidth&&e.y>s.goalPosY&&e.y<s.goalPosY+s.goalHeight&&(this.shootInProcess=!1,this.nextShoot=t+this.delayShoot,this.lAttempt="YOU MISSED",this.attempts_left-=1,this.player_scored+=1,this.attempts_left?this.resetPitch():this.showScore()),requestAnimationFrame(this.animate.bind(this))}start(){this.drawPitch(),this.nextShoot=this.delayShoot,requestAnimationFrame(this.animate.bind(this))}};document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("canvas");t.width=1e3,t.height=500;const i=t.getContext("2d"),h=new e,a=new s,r=new class{constructor(){this.text="You can start the game by clicking Play button, you will be able to control the goalkeeper using left or right arrow keys in your keyboard '◀︎ ▶︎', Try to catch more than 3 shoots to win the game.",this.maxWidth=750,this.lineHeight=50,this.x=500,this.y=150}gameInstructionsBack(t){t.rect(0,0,1e3,500);const e=new Image;e.onload=function(){t.drawImage(e,0,0)},e.src="./grass.jpeg",t.globalCompositeOperation="destination-over"}wrapText(t,e,i,s,o,h){let a=e.split(" "),r="";for(let e=0;e<a.length;e++){let n=r+a[e]+" ";t.measureText(n).width>o?(t.fillText(r,i,s),r=a[e]+" ",s+=h):r=n}t.fillText(r,i,s)}instructionText(t){t.font="Bold 40px optima",t.fillStyle="#000000",t.textAlign="center",this.wrapText(t,this.text,this.x,this.y,this.maxWidth,this.lineHeight)}},n=new class{score(t,e){t.font="Bold 20px Arial",t.fillStyle="#ff900",t.font,t.fillText("Score: "+e,20,20)}attempts(t,e){t.font="Bold 20px Arial",t.fillStyle="#ff900",t.fillText("Attempts: "+e,20,50)}finalAttempt(t,e){t.font="Bold 70px geneva",t.fillStyle="#0D261D",t.textAlign="center",t.fillText(e,500,330),t.textAlign="left"}};r.gameInstructionsBack(i),r.instructionText(i),document.querySelector(".reset").addEventListener("click",(t=>{const e=Math.ceil(2*Math.random())*(Math.round(Math.random())?1:-1);new o(h,a,n,i,e,-2,2).animate()})),document.querySelector(".med").addEventListener("click",(t=>{const e=Math.ceil(4*Math.random())*(Math.round(Math.random())?1:-1);new o(h,a,n,i,e,-4,4).animate()})),document.querySelector(".easy").addEventListener("click",(t=>{const e=Math.ceil(1*Math.random())*(Math.round(Math.random())?1:-1);new o(h,a,n,i,e,-1,1).animate()})),document.querySelector(".hard").addEventListener("click",(t=>{const e=Math.ceil(8*Math.random())*(Math.round(Math.random())?1:-1);new o(h,a,n,i,e,-8,8).animate()}))}))}()}();
//# sourceMappingURL=main.js.map